function LP = init_LP_1028() %#codegen
%%
LP.num_q = 21;
LP.m0 = 5.7514;
m = [0.6926 1.1285 0.4417 0.4549 1.1285 0.6926 0.4863];
LP.m  = [m, m, m];
LP.mass = 20.8267;

I6 = @(xx, yy, zz, xy, yz, xz)[xx -xy -yz; -xy yy -xz; -yz -xz zz];
% I  = cat(3, ...
%     I6(0.0012,  0,  0,  0.0012,   0,       0.0013), ...
%     I6(0.0018,  0,  0,  0.0018,  -0.0002,  0.0016), ...
%     I6(0.0007,  0,  0,  0.0007,   0,       0.0008), ...
%     I6(0.0007,  0,  0,  0.0007,  -0.0002,  0.0005), ...
%     I6(0.0018,  0,  0,  0.0016,  -0.0002,  0.0018), ...
%     I6(0.0012,  0,  0,  0.0013,   0,       0.0012), ...
%     I6(0.0004,  0,  0,  0.0004,   0,       0.0007));

I  = cat(3, ...
    I6(0.0012,  0.0012, 0.0013,  0,      0,  0), ...
    I6(0.0018,  0.0018, 0.0016, -0.0002, 0,  0), ...
    I6(0.0007,  0.0007, 0.0008,  0,      0,  0), ...
    I6(0.0007,  0.0007, 0.0005, -0.0002, 0,  0), ...
    I6(0.0018,  0.0016, 0.0018, -0.0002, 0,  0), ...
    I6(0.0012,  0.0013, 0.0012,  0,      0,  0), ...
    I6(0.0004,  0.0004, 0.0007,  0,      0,  0));

LP.inertia = zeros(3, 3*21);
for k = 1:21
    Ik = I(:, :, mod(k-1, 7)+1);
    LP.inertia(:, 3*k-2:3*k) = Ik;
end
LP.inertia0 = I6(0.0347, 0, 0, 0.0519, 0, 0.0347);

%%
LP.J_type = repmat('R', 1, 21);

LP.BB = [ ...
    0  1  2  3  4  5  6,  ...
    0  8  9  10 11 12 13, ...
    0 15 16 17 18 19 20  ];

LP.S0 = [ ...
    1  0  0  0  0  0  0,  ...
    1  0  0  0  0  0  0, ...
    1  0  0  0  0  0  0  ];

LP.SE = [ ...
    0  0  0  0  0  0  1,  ...
    0  0  0  0  0  0  1, ...
    0  0  0  0  0  0  1  ];

LP.SS=[-1	1	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0;
        0	-1	1	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0;
        0	0	-1	1	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0;
        0	0	0	-1	1	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0;
        0	0	0	0	-1	1	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0;
        0	0	0	0	0	-1	1	0	0	0	0	0	0	0	0	0	0	0	0	0	0;
        0	0	0	0	0	0	-1	0	0	0	0	0	0	0	0	0	0	0	0	0	0;
        0	0	0	0	0	0	0	-1	1	0	0	0	0	0	0	0	0	0	0	0	0;
        0	0	0	0	0	0	0	0	-1	1	0	0	0	0	0	0	0	0	0	0	0;
        0	0	0	0	0	0	0	0	0	-1	1	0	0	0	0	0	0	0	0	0	0;
        0	0	0	0	0	0	0	0	0	0	-1	1	0	0	0	0	0	0	0	0	0;
        0	0	0	0	0	0	0	0	0	0	0	-1	1	0	0	0	0	0	0	0	0;
        0	0	0	0	0	0	0	0	0	0	0	0	-1	1	0	0	0	0	0	0	0;
        0	0	0	0	0	0	0	0	0	0	0	0	0	-1	0	0	0	0	0	0	0;
        0	0	0	0	0	0	0	0	0	0	0	0	0	0	-1	1	0	0	0	0	0;
        0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	-1	1	0	0	0	0;
        0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	-1	1	0	0	0;
        0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	-1	1	0	0;
        0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	-1	1	0;
        0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	-1	1;
        0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	-1];

%% 姿态常量
LP.Qi = [ ...
    0      0      0;
    pi/2   0      0;
    -pi/2   0      0;
    pi/2   0      0;
    -pi/2   0      0;
    pi/2   0      0;
    -pi/2   0      0;
    0    2*pi/3   0;
    pi/2   0      0;
    -pi/2   0      0;
    pi/2   0      0;
    -pi/2   0      0;
    pi/2   0      0;
    -pi/2   0      0;
    0    4*pi/3   0;
    pi/2   0      0;
    -pi/2   0      0;
    pi/2   0      0;
    -pi/2   0      0;
    pi/2   0      0;
    -pi/2   0      0]';

LP.Qe = zeros(3, 21);

%% 结构尺寸与质量参数
P01 = rpy2dc(0, 2*pi/3, 0) * [0; 0; 0.25];
P02 = rpy2dc(0, 4*pi/3, 0) * [0; 0; 0.25];

P = [ ...
    0      0      0.2052;
    0      0.1565      0;
    0      0       0.239;
    0      0.0785      0;
    0      0      0.0720;
    0      0.2455      0;
    0      0      0.1530]';

Pc = [ ...
    0     -0.0014 0.1026;
    0      0.1020 0.0016;
    0     -0.0022 0.0599;
    0      0.0371 0.0040;
    0     -0.0016 0.1435;
    0      0.0539 0.0014;
    0      0      0.0458]';

E1 = [0; 0; 0.08];
E2 = [0; 0; 0.25];
E3 = [0; 0; 0.25];

LP.cc = zeros(3, 21, 21);
LP.c0 = zeros(3, 21);
LP.ce = zeros(3, 21);

LP.c0(:, 1)  = [0; 0; 0.25];
LP.c0(:, 8)  = P01;
LP.c0(:, 15) = P02;

for k = 1:7
    LP.cc(:, k, k) = -Pc(:, k);
    if k < 7
        LP.cc(:, k, k+1) = P(:, k) - Pc(:, k);
    end
end

LP.cc(:, 8:14,  8:14)  = LP.cc(:, 1:7, 1:7);
LP.cc(:, 8:13,  9:14)  = LP.cc(:, 1:6, 2:7);

LP.cc(:, 15:21, 15:21) = LP.cc(:, 1:7, 1:7);
LP.cc(:, 15:20, 16:21) = LP.cc(:, 1:6, 2:7);

LP.ce(:, 7)  =  P(:,7) - Pc(:,7) + E1;
LP.ce(:, 14) =  P(:,7) - Pc(:,7) + E2;
LP.ce(:, 21) =  P(:,7) - Pc(:,7) + E3;

